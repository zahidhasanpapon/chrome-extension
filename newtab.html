<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Productivity Hub - New Tab</title>
    <link rel="stylesheet" href="modern.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <button class="dark-toggle" id="darkModeToggle" aria-label="Toggle dark mode">🌙</button>
    <main class="main-content">
      <header class="card text-center mb">
        <h1>⚡ Productivity Hub</h1>
        <p class="text-muted">Stay productive and organized with your daily tasks and focus</p>
      </header>
      <section class="card mb" aria-label="Weather and Prayer Info">
        <div class="flex gap mb">
          <div class="flex gap-sm" style="flex:1;">
            <div class="stat" aria-label="Current Time">
              <div id="currentTime" class="stat-number loading">--:--</div>
              <div id="currentDate" class="stat-label">--</div>
            </div>
            <div class="stat" aria-label="Weather">
              <div id="temperature" class="stat-number loading">--°</div>
              <div id="weatherLocation" class="stat-label">--</div>
            </div>
            <div class="stat" aria-label="UV Index">
              <div id="uvIndex" class="stat-number loading">--</div>
              <div id="uvLevel" class="stat-label">--</div>
            </div>
          </div>
        </div>
        <div class="flex gap-sm" id="prayerTimes" aria-label="Prayer Times">
          <div class="stat" id="fajr-time"><div class="stat-label">Fajr</div><div class="stat-number loading">--</div></div>
          <div class="stat" id="sunrise-time"><div class="stat-label">Sunrise</div><div class="stat-number loading">--</div></div>
          <div class="stat" id="dhuhr-time"><div class="stat-label">Dhuhr</div><div class="stat-number loading">--</div></div>
          <div class="stat" id="asr-time"><div class="stat-label">Asr</div><div class="stat-number loading">--</div></div>
          <div class="stat" id="maghrib-time"><div class="stat-label">Maghrib</div><div class="stat-number loading">--</div></div>
          <div class="stat" id="isha-time"><div class="stat-label">Isha</div><div class="stat-number loading">--</div></div>
        </div>
      </section>
      <nav class="tabs" role="tablist" aria-label="Main Sections">
        <button class="tab active" data-tab="todos" role="tab" aria-selected="true" aria-controls="todos-tab">📝 Todos</button>
        <button class="tab" data-tab="blocked" role="tab" aria-selected="false" aria-controls="blocked-tab">🚫 Blocked Sites</button>
        <button class="tab" data-tab="tabby" role="tab" aria-selected="false" aria-controls="tabby-tab">📚 Tabby</button>
      </nav>
      <section id="todos-tab" class="tab-content card" role="tabpanel" aria-labelledby="todos" style="display:block;">
        <form class="flex gap-sm mb" onsubmit="return false;">
          <input type="text" id="todoInput" placeholder="Add a new task..." maxlength="200" aria-label="Add a new task" />
          <button id="addBtn" type="button">Add Task</button>
        </form>
        <input type="text" id="todoSearch" placeholder="Search tasks..." aria-label="Search tasks" />
        <ul id="todoList" class="list mt" aria-live="polite"></ul>
        <div id="emptyState" class="text-center text-muted mt" style="display:none;">🎉 No tasks yet! Add your first task above.</div>
        <div id="searchResults" class="text-center text-muted mt" style="display:none;"></div>
        <div class="stats mt">
          <div class="stat"><div id="totalTasks" class="stat-number">0</div><div class="stat-label">Total Tasks</div></div>
          <div class="stat"><div id="completedTasks" class="stat-number">0</div><div class="stat-label">Completed</div></div>
          <div class="stat"><div id="pendingTasks" class="stat-number">0</div><div class="stat-label">Pending</div></div>
        </div>
      </section>
      <section id="blocked-tab" class="tab-content card" role="tabpanel" aria-labelledby="blocked" style="display:none;">
        <form class="flex gap-sm mb" onsubmit="return false;">
          <input type="text" id="blockedSiteInput" placeholder="Enter website URL to block (e.g., facebook.com)" aria-label="Block website" />
          <button id="blockBtn" type="button">Block Site</button>
        </form>
        <ul id="blockedSitesList" class="list mt" aria-live="polite"></ul>
        <div id="blockedSitesEmpty" class="text-center text-muted mt" style="display:none;">🔓 No blocked sites yet! Add a website above to block it.</div>
        <div class="flex gap-sm mt">
          <button id="exportBtn" class="accent" type="button">📤 Export List</button>
          <button id="importBtn" class="secondary" type="button">📥 Import List</button>
        </div>
        <div id="blockedSitesStats" class="mt"></div>
      </section>
      <section id="tabby-tab" class="tab-content card" role="tabpanel" aria-labelledby="tabby" style="display:none;">
        <form class="flex gap-sm mb" onsubmit="return false;">
          <input type="text" id="group-name-input" placeholder="Enter group name..." maxlength="50" aria-label="Group name" />
          <button id="save-tabs-btn" class="accent" type="button" disabled>Save Selected</button>
          <button id="refresh-tabs-btn" class="secondary" type="button">Refresh Tabs</button>
        </form>
        <div class="flex gap-sm mb">
          <label class="flex flex-center gap-sm"><input type="checkbox" id="select-all-checkbox" /> Select All</label>
          <span id="selected-count" class="text-muted">0 tabs selected</span>
        </div>
        <div id="tabs-grid" class="card-list mt"><div class="text-center text-muted">Loading tabs...</div></div>
        <div class="card mt">
          <h4>💾 Saved Groups</h4>
          <div id="bookmark-groups-list" class="text-muted">No saved groups yet. Create your first group above!</div>
        </div>
      </section>
    </main>
    <script src="newtab.js"></script>
    <script>
      // Dark mode toggle logic
      const toggleBtn = document.getElementById('darkModeToggle');
      toggleBtn.addEventListener('click', () => {
        document.documentElement.classList.toggle('dark');
      });
      // Tab switching logic (for accessibility)
      document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', e => {
          document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
          document.querySelectorAll('.tab-content').forEach(tc => tc.style.display = 'none');
          tab.classList.add('active');
          const tabName = tab.getAttribute('data-tab');
          document.getElementById(`${tabName}-tab`).style.display = 'block';
          document.querySelectorAll('.tab').forEach(t => t.setAttribute('aria-selected', 'false'));
          tab.setAttribute('aria-selected', 'true');
        });
      });
    </script>
  </body>
</html>
